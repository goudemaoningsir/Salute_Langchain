LangChain拥有一个庞大的生态系统，与各种外部资源（如本地和远程文件系统、API和数据库）进行集成。这些集成允许开发者创建多功能应用程序，结合了大型语言模型（LLMs）的强大能力和访问、交互以及操作外部资源的能力。

## 1、最佳实践
在构建此类应用程序时，开发者应记住遵循良好的安全实践：

- **限制权限**：将权限特别限定在应用程序的需求范围内。授予广泛或过度的权限可能会引入重大的安全漏洞。为避免此类漏洞，请考虑使用只读凭证、禁止访问敏感资源、适当使用沙箱技术（如在容器内运行）等。
- **预期潜在的误用**：正如人类可能犯错一样，大型语言模型（LLMs）也可能犯错。始终假设任何系统访问或凭证可能以分配给它们的权限所允许的任何方式被使用。例如，如果一对数据库凭证允许删除数据，最安全的做法是假设任何能够使用这些凭证的LLM实际上都可能删除数据。
- **深度防御**：没有安全技术是完美的。微调和良好的链设计可以减少，但不能消除大型语言模型（LLM）可能犯错的几率。最好结合多层安全方法，而不是依赖任何单一的防御层来确保安全。例如：同时使用只读权限和沙箱，确保LLMs只能访问明确为它们使用的数据。

不这样做的风险包括但不限于：

- 数据损坏或丢失。
- 未经授权访问机密信息。
- 关键资源的性能或可用性受损。

缓解策略的示例场景：

- 用户可能要求具有文件系统访问权限的代理删除不应该删除的文件，或读取包含敏感信息的文件内容。为了缓解，限制代理只使用特定目录，并且只允许它读取或写入安全读取或写入的文件。考虑通过在容器中运行代理进一步沙箱化代理。
- 用户可能要求具有写入外部API权限的代理向API写入恶意数据，或从API中删除数据。为了缓解，给代理只读API密钥，或限制它只使用已经能够抵抗此类滥用的端点。
- 用户可能要求具有数据库访问权限的代理删除表或更改模式。为了缓解，将凭证限定在代理需要访问的表范围内，并考虑发放只读凭证。

如果您正在构建访问文件系统、API或数据库等外部资源的应用程序，请考虑与您公司的安全团队交流，以确定如何最佳设计和保护您的应用程序。

